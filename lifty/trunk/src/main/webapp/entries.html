<lift:surround with="default" at="content">
<head>
<script type="text/javascript">
function processKey(dateId,timesId) {

	var k = event.keyCode	
	msg(k);
	var factor=0;
	if (k==78) factor=1;
	else if (k==66) factor=-1;
	
	document.getElementById(dateId).value
		= new Date(Date.parse(document.getElementById(dateId).value) 
		+ factor * 24 * 3600 *1000).toDateString();

	var times=document.getElementById(timesId);
			
	//backspace ok
	if (k==8||k==13||k==9) return true;

	//don't allow typing after length is 8 characters
	if (times.value.length&gt;=8) 
				return false;

	if (factor==0) {
		//if between 0 and 9 normal
		if (48&lt;=k &amp;&amp; k&lt;=57) {
			//allow character
			return true;	
		}
	}
	//disallow character
	return false;
}

function msg(s) {
	document.getElementById('finish').value=s;
}
</script>
</head>

<form method="post">
	<p>
      <lift:helloWorld.howdy>
        <span>Entries at <b:time/></span>
      </lift:helloWorld.howdy>
      <lift:Times.add form="POST">
		<entry:date id="date"/> <entry:start id="start" onkeydown="return processKey('date','start');"/><entry:finish id="finish"/><entry:submit /><br/>
	  </lift:Times.add>
    </p>


</form>
</lift:surround>
